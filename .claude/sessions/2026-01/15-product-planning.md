# 会话记录 - 2026-01-15 产品规划

**日期**: 2026-01-15
**参与者**: 用户 + Claude Code
**主题**: 创建产品文档体系，确定页面结构设计

---

## 会话概述

本次会话的主要目标是：
1. 创建产品需求文档（PRD）体系
2. 确定 MVP 阶段的页面结构设计
3. 明确产品定位和核心功能范围

---

## 完成的工作

### 1. 创建 PRD 文档体系

**目录结构**:
```
prds/
├── README.md          # PRD 文档索引和规范
├── PRD模板.md         # 标准 PRD 模板（10 个章节）
└── 产品概述.md        # 产品定位、目标用户、功能规划
```

**关键决策**:
- 采用 `prds/` 独立目录，与技术文档 `docs/` 分离
- PRD 文档使用状态标识：🟡 草稿、🔵 评审中、🟢 已确认、✅ 已实现、🔴 已废弃
- 定义了 PRD 生命周期管理流程

### 2. 创建产品概述文档

**内容**:
- **产品定位**: AI 原生的智能白板工具
- **核心理念**: AI 原生、智能协作、简单易用
- **目标用户**: 远程团队、创意工作者、教育场景、个人用户（待细化）
- **核心功能**:
  - 基础白板功能（基于 Excalidraw）
  - 实时协作
  - AI 功能（辅助创作、智能识别、协作助手）
- **竞品对比**: Miro、FigJam、Excalidraw、boardmix
- **产品路线图**: MVP → 增长 → 成熟

### 3. 确定页面结构设计（重要决策）

**决策**: 采用**直接白板页面**方案，MVP 阶段不设置 Landing Page

**页面布局**:
```
┌─────────────────────────────────────────────┐
│ [Logo] AI白板  |  [关于] [示例] [登录]     │ ← 顶部导航栏（~60px）
├─────────────────────────────────────────────┤
│                                             │
│            白板画布区域                      │ ← 核心区域（90%+ 空间）
│         (Excalidraw 组件)                   │
│                                             │
└─────────────────────────────────────────────┘
```

**设计原则**:
- 极简导航：顶部栏占用最小空间
- 打开即用：无需登录即可开始绘图（游客模式）
- 首次引导：新用户显示简单 Onboarding
- 渐进式功能：核心功能优先

**路由设计**（MVP）:
- `/` - 主页面（白板）
- `/about` - 关于页面（可选）
- `/board/:id` - 分享的白板（后续）

**选择理由**:
- ✅ 快速验证核心价值
- ✅ 降低 MVP 开发成本
- ✅ 打开即用，符合工具类产品特性
- ✅ 对标 Excalidraw 的简洁体验
- ✅ 后续可扩展（添加 Dashboard、Landing Page）

**技术影响**:
- 前端倾向于选择 **Vite + React**（轻量级 SPA）
- 暂不需要 SSR（Next.js 可留待后续）
- 路由简单，使用 React Router 即可

### 4. 更新开发流程规范

在 `.claude/context/development-workflow.md` 中新增：
- **场景 5**: 创建或更新产品需求文档时的更新规则
- 将 PRD 相关文档加入文档更新优先级（P0、P1）
- 添加 PRD 文档创建示例

### 5. 同步更新所有相关文档

按照 development-workflow 规则，同步更新：
- ✅ `README.md` - 项目结构、状态、路线图
- ✅ `.claude/README.md` - 添加产品文档章节
- ✅ `.claude/tasks/current-sprint.md` - 更新任务状态
- ✅ `prds/README.md` - 创建 PRD 索引
- ✅ `prds/产品概述.md` - 添加页面结构章节（v0.2）

### 6. 代码提交

**Commit**: `0627d3d` - docs: 创建产品文档体系（prds/）

**统计**:
- 16 个文件变更
- 1,885 行新增代码
- 新增 9 个文档文件
- commitlint 验证通过 ✅
- Turborepo 测试通过 ✅

---

## 关键决策

### ✅ 页面结构决策

| 决策项 | 内容 |
|--------|------|
| **决策** | MVP 采用直接白板页面，不设置 Landing Page |
| **日期** | 2026-01-15 |
| **理由** | 快速验证核心价值，降低开发成本，打开即用 |
| **影响** | 前端选择 Vite + React（SPA），暂不需要 SSR |
| **后续** | 成长阶段再添加 Dashboard 和 Landing Page |

---

## 待明确的问题

根据产品概述文档，以下问题需要优先解决（P0）：

1. **MVP 要包含哪些 AI 功能？**
   - 需要平衡开发成本和差异化价值
   - 候选方向：AI 辅助创作、智能识别、协作助手

2. **前端框架最终选择**
   - Vite + React（轻量，适合 SPA）vs Next.js（功能全，适合 SEO）
   - 倾向：Vite + React（MVP 优先）

3. **AI 能力如何接入？**
   - 模型选择（GPT-4、Claude、开源模型）
   - 成本控制
   - 响应速度

4. **如何实现实时协作？**（P1）
   - WebSocket + OT/CRDT
   - 自建 vs 第三方服务（Liveblocks、y-websocket）

---

## 下一步行动

### 产品规划
- [ ] 确定 MVP 的 AI 功能范围（P0）
- [ ] 设计核心用户流程
- [ ] 细化功能 PRD

### 技术架构
- [ ] 确定前端框架（倾向 Vite + React）
- [ ] 确定后端框架（Express / Fastify）
- [ ] 确定 AI 集成方案（模型选择、API 设计）
- [ ] 确定实时协作方案

### 开发实现
- [ ] 搭建项目基础框架
- [ ] 集成 Excalidraw
- [ ] 实现第一个 AI 功能原型

---

## 创建的文件

**产品文档**:
- `prds/README.md`
- `prds/PRD模板.md`
- `prds/产品概述.md`（v0.2）

**技术文档**（补充上次会话遗漏）:
- `.claude/context/dev-environment.md`
- `.claude/context/development-workflow.md`
- `.claude/decisions/004-whiteboard-excalidraw.md`
- `docs/开源白板项目选型.md`
- `docs/白板素材库对比.md`
- `docs/Excalidraw集成方案.md`

**更新的文件**:
- `README.md`
- `.claude/README.md`
- `.claude/tasks/current-sprint.md`
- `.claude/context/development-workflow.md`
- `prds/产品概述.md`

---

## 里程碑

- ✅ 建立完整的产品文档体系
- ✅ 确定 MVP 页面结构设计（直接白板方案）
- ✅ 明确前端技术方向（倾向 Vite + React）
- ✅ 识别 5 个核心待解决问题（3 个 P0，2 个 P1）

---

## 会话记录

**问题**: "好 现在暂停技术方案的选型，要开始做产品方案，你建议是放到docs下面还是新开一个prds记录？"

**回答**: 建议创建新的 `prds/` 目录，理由是关注点分离、角色清晰、可扩展性好。

**问题**: "好的 把目前的文件在提交一次吧"

**完成**: 成功提交 commit `0627d3d`，16 个文件，1885 行代码。

**问题**: "好 接着需要定一个事情，这个网站是否需要一个介绍页面..."

**分析**: 提供了三种方案对比：
1. 直接白板页面（MVP 优先，推荐）
2. 介绍页 + 白板（完整产品）
3. 混合方案（渐进式）

**用户选择**: "直接白板页面（MVP 优先，推荐）"

**后续行动**:
- 更新产品概述文档，添加页面结构设计章节
- 更新任务列表，标记完成状态
- 创建本会话记录

---

## 备注

- 本次会话延续了上次会话（2026-01-14）的产品文档创建工作
- 成功建立了 PRD 文档管理体系
- 明确了 MVP 的产品形态和页面结构
- 为下一步的技术栈最终确认和功能开发奠定了基础
