# 白板素材库对比：tldraw vs Excalidraw

> 调研日期：2026-01-14

## 核心发现 ⚠️

**tldraw 和 Excalidraw 在素材库方面存在本质差异**

## 素材库对比

### Excalidraw - 素材库丰富 ✅

**官方素材库**: https://libraries.excalidraw.com/

**特点**：
- ✅ **公共素材库** - 社区贡献的大量预制素材
- ✅ **分类齐全** - 图标、流程图、架构图、UI 元素等
- ✅ **一键导入** - 在应用内直接浏览和导入素材
- ✅ **持续更新** - 社区持续贡献新素材

**���材分类**（部分）：
- AWS 架构图标
- Google Cloud 图标
- Azure 图标
- Kubernetes 图标
- 流程图符号
- UML 图表
- UI 线框图
- 网络拓扑图
- 表情符号
- ...更多

**使用方式**：
1. 在 Excalidraw 中点击"库"按钮
2. 浏览公共素材库
3. 一键添加到画布

---

### tldraw - 素材库需自建 ⚠️

**官方态度**: SDK 定位，不提供预制素材库

**特点**：
- ❌ **无内置素材库** - 需要开发者自己实现
- ✅ **自定义形状系统** - 强大的 Shape API
- ✅ **灵活扩展** - 可以创建任意形状和组件
- ✅ **支持贴纸** - 有 sticker bindings 示例

**文档资源**：
- [Shapes 文档](https://tldraw.dev/docs/shapes) - 如何创建自定义形状
- [Assets 文档](https://tldraw.dev/docs/assets) - 素材系统架构
- [Sticker Bindings 示例](https://tldraw.dev/examples/sticker-bindings) - 贴纸功能示例

**内置形状**（基础）：
- Rectangle（矩形）
- Ellipse（椭圆）
- Arrow（箭头）
- Draw（手绘）
- Text（文本）
- Frame（框架）
- Image（图片）
- Video（视频）

**需要自己实现**：
- 图标库
- 预制模板
- 常用图形组合
- 行业特定素材

---

## 对比总结

| 维度 | Excalidraw | tldraw |
|------|-----------|--------|
| **预制素材** | 🟢 丰富（社区库） | 🔴 无（需自建） |
| **素材数量** | 🟢 数千个 | 🔴 ~10 个基础形状 |
| **导入方式** | 🟢 一键导入 | 🟡 需开发 |
| **自定义能力** | 🟡 中等 | 🟢 强大 |
| **扩展性** | 🟡 有限 | 🟢 无限 |
| **开发成本** | 🟢 低（开箱即用） | 🔴 高（需自建） |

---

## 重要结论 🚨

### 如果素材库是核心需求：

**建议重新评估技术选型**

#### 方案 1: 使用 Excalidraw ⭐ 推荐
**优势**：
- ✅ 开箱即用的丰富素材库
- ✅ 用户无需等待，立即可用
- ✅ MIT 协议，可以 fork 并二次开发
- ✅ 社区活跃，素材持续增长

**劣势**：
- ❌ 不是 SDK，需要深度 fork 和改造
- ❌ 扩展性相对 tldraw 弱
- ❌ AI 集成需要更多工作

**适合场景**：
- 素材库是必需品
- 需要快速上线
- 对定制化要求不是特别高

---

#### 方案 2: tldraw + 自建素材库
**优势**：
- ✅ 最灵活的架构
- ✅ 可以精选需要的素材
- ✅ 完全控制 UI 和交互
- ✅ 适合 AI 深度集成

**劣势**：
- ❌ 需要大量开发工作
- ❌ 素材库从零开始构建
- ❌ 时间成本高

**开发成本估算**：
- 基础素材库（100+ 图标）：1-2 周
- 完整素材库（1000+ 素材）：1-2 个月
- 导入/管理系统：1-2 周

**可能的素材来源**：
1. 开源图标库（如 Heroicons、Lucide）
2. 从 Excalidraw 库导出（需要格式转换）
3. 设计团队定制
4. AI 生成（结合你的 AI 特性）

---

#### 方案 3: 混合方案 🤔
**思路**: 使用 Excalidraw 的素材系统 + tldraw 的画布

**可行性**：
- 🟡 技术上可行但复杂
- 🟡 需要理解两个系统的数据格式
- 🟡 可能存在兼容性问题

**步骤**：
1. 分析 Excalidraw 素材格式
2. 创建格式转换器
3. 在 tldraw 中实现相似的导入机制
4. 构建素材管理 UI

---

## 我的建议 💡

### 如果素材库很重要 → **选择 Excalidraw**

**理由**：
1. **时间优先** - 素材库是刚需，自建成本太高
2. **用户体验** - 丰富的素材是核心竞争力
3. **可以改造** - Excalidraw 是 MIT 协议，可以 fork
4. **AI 可以加** - 虽然不是 SDK，但可以在此基础上加 AI

**实施路径**：
```
Week 1-2: Fork Excalidraw，理解架构
Week 3-4: 添加 AI 功能（如 AI 生成图形）
Week 5-6: UI 定制和品牌化
Week 7-8: 实现差异化功能
```

### 如果看重扩展性 → **选择 tldraw + 精简素材**

**理由**：
1. **长期价值** - 架构灵活，适合持续迭代
2. **AI 优先** - 用 AI 替代部分素材需求
3. **差异化** - 不依赖素材库，专注 AI 能力

**实施路径**：
```
Week 1-2: 集成 tldraw，搭建基础
Week 3-4: 实现核心 AI 功能
Week 5-6: 精选 50-100 个关键素材
Week 7-8: 优化用户体验
```

---

## 技术细节：如何在 tldraw 中添加素材

### 1. 创建自定义形状

```typescript
import { TLBaseShape, createShapeId } from 'tldraw'

// 定义自定义形状类型
type MyIconShape = TLBaseShape<
  'myicon',
  {
    w: number
    h: number
    iconType: string
  }
>

// 创建形状工具类
class MyIconShapeUtil extends BaseBoxShapeUtil<MyIconShape> {
  static override type = 'myicon' as const

  // 渲染逻辑
  component(shape: MyIconShape) {
    return <IconComponent type={shape.props.iconType} />
  }
}
```

### 2. 注册到 tldraw

```typescript
const customShapeUtils = [MyIconShapeUtil]

<Tldraw shapeUtils={customShapeUtils} />
```

### 3. 创建素材面板

需要自己实现 UI 来：
- 展示素材缩略图
- 搜索和筛选
- 拖拽到画布

**工作量**: 中等到大

---

## 下一步行动建议

### 立即行动：
1. **明确素材库需求**
   - 需要哪些类型的素材？
   - 数量级大概多少？
   - 更新频率？

2. **测试两个方案**
   - 克隆 Excalidraw，测试改造难度
   - 克隆 tldraw，评估自建素材库工作量

3. **做出最终决策**
   - 基于实际测试结果
   - 考虑团队能力和时间

### 我的建议优先级：

**方案 A（推荐）**: Excalidraw + AI 集成
- 时间：快
- 风险：低
- 用户价值：高

**方案 B（备选）**: tldraw + 精简素材 + 重AI
- 时间：慢
- 风险：中
- 长期价值：高

## 参考资源

- [Excalidraw 素材库](https://libraries.excalidraw.com/)
- [tldraw Shapes 文档](https://tldraw.dev/docs/shapes)
- [tldraw Assets 文档](https://tldraw.dev/docs/assets)
- [tldraw Sticker Bindings](https://tldraw.dev/examples/sticker-bindings)
- [Excalidraw vs tldraw Comparison](https://ritza.co/articles/gen-articles/excalidraw-vs-drawio-vs-tldraw-vs-miro-vs-lucidchart-vs-figma/)

## 更新记录
- 2026-01-14: 素材库深度对比，建议重新评估选型

**Sources**:
- [Excalidraw Libraries](https://libraries.excalidraw.com/)
- [tldraw Shapes Documentation](https://tldraw.dev/docs/shapes)
- [tldraw Assets Documentation](https://tldraw.dev/docs/assets)
- [Excalidraw vs tldraw Comparison](https://ritza.co/articles/gen-articles/excalidraw-vs-drawio-vs-tldraw-vs-miro-vs-lucidchart-vs-figma/)
- [Excalidraw Alternatives Comparison](https://affine.pro/blog/excalidraw-alternative)
